<!DOCTYPE html>
<html lang="no">
<head>
<title>Tastaturmakroer i Emacs</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="text/css" http-equiv="Content-Style-Type">
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link href="../../../css/markdown-template.css" rel="stylesheet">
<link href="index.txt" rel="alternate" title="Markdown" type="text/markdown">
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
</script>
<script src="../../../js/markdown-template.js">
</script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
<div class="container-fluid">
<ul class="nav nav-pills navbar-left">
<li role="presentation"><a href="/" title="Return home"><i class="fa fa-home"></i></a>
</li>
</ul>

<ul class="nav nav-pills navbar-right">
<li role="presentation"><a href="http://www.facebook.com/share.php?u=about%3Ablank" title="Share on Facebook"><i class="fa fa-facebook-square"></i></a>
</li>

<li role="presentation"><a href="https://twitter.com/intent/tweet?url=about%3Ablank" title="Share on Twitter"><i class="fa fa-twitter-square"></i></a>
</li>

<li role="presentation"><a href="mailto:?body=about%3Ablank" title="Share by mail"><i class="fa fa-envelope"></i></a>
</li>

<li role="presentation"><a href="https://github.com/epsil/epsil.github.io/tree/masterblank/index.txt" title="Edit on GitHub"><i class="fa fa-edit"></i></a>
</li>

<li role="presentation"><a href="index.txt" title="Get Markdown source"><i class="fa fa-download"></i></a>
</li>

<li role="presentation"><a data-toggle="collapse" href="#toc" title="Table of contents"><i class="fa fa-bars"></i></a>
</li>
</ul>
</div>

<div class="collapse" id="toc" title="Innhold">
</div>
</nav>

<div class="container">
<article>
<header>
<h1 class="title">Tastaturmakroer i Emacs</h1>

<p><time><i class="fa fa-calendar-o"></i> 2007-11-29</time>
</p>
</header>

<section id="content">
<p class="center"><img alt="" src="emacsmakroer.gif">
</p>

<p>Det ovenstående er en liten video som viser hvordan en oppgave kan utføres i <a href="http://www.gnu.org/software/emacs/"><abbr class="acronym" title="GNU's Not Unix">GNU</abbr> Emacs</a> ved bruk av tastaturmakroer. Jeg har laget 20 identiske filer som jeg har plassert i katalogen <code>D:\vcalendar</code>. I videoen åpner jeg denne katalogen og definerer en makro som åpner filen under markøren, bruker et regulært uttrykk for å søke seg frem til <code>LOCATION</code>-feltet, kopierer de to første tegnene (som <em>kan</em> være kodet i quoted-printable, derfor et litt innfløkt uttrykk), søker seg frem til <code>SUMMARY</code>-feltet, går til slutten av linjen, setter inn et mellomrom, limer inn tegnene, lagrer filen, lukker bufferen og flytter markøren til neste fil. Jeg utfører så denne makroen på alle de resterende filene i katalogen, og åpner til slutt en av dem for å vise at den er forandret.</p>

<p>Merk at den ovenstående makroen forutsetter at hver fil bare inneholder én oppføring. Dersom filene inneholdt flere oppføringer, ville det ha vært nødvendig å definere <em>to</em> makroer: en som utfører arbeidet med å kopiere de to første tegnene i <code>LOCATION</code>-feltet, og en som åpner hver fil og «looper gjennom dem» med den første makroen. Dette er ikke veldig mye mer komplisert enn det som vises i videoen.</p>

<p>For øvrig har Emacs sine egne kommandoer for å håndtere quoted-printable, så i stedet for det lange regulære uttrykket jeg skriver inn for å ta høyde for quoted-printable-kodede tegn à la <code>=F8</code> (som ikke forekommer så tidlig i <code>LOCATION</code>-feltet i eksemplet, så dette er bare teoretisk), kunne jeg ha konvertert fra quoted-printable til vanlig tekst, kopiert de to første tegnene, konvertert <code>LOCATION</code>-feltet tilbake, limt inn tegnene i <code>SUMMARY</code>-feltet og konvertert dem.</p>

<hr>

<p>Ifølge folket på <code>#emacs</code> har Emacs hatt tastaturmakroer siden 1975.</p>
</section>
</article>
</div>
</body>
</html>
