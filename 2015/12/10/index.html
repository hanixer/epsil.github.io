<!DOCTYPE html>
<html lang="no" prefix="og: http://ogp.me/ns#">
<head>
<title>Testing med Selenium &#8211; Vegards blogg</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="Vegard &#216;ye" name="author">
<meta content="2015-12-10" name="date">
<meta content="Hvordan kombinere Selenium, mocha og chai." name="description">
<meta content="b2b89d0f5ce94fe41d8fa95055759120" name="md5">
<meta content="text/css" http-equiv="Content-Style-Type">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Testing med Selenium" name="DC.Title">
<meta content="Vegard &#216;ye" name="DC.Creator">
<meta content="2015-12-10" name="DC.Date">
<meta content="Hvordan kombinere Selenium, mocha og chai." name="DC.Description">
<meta content="no" name="DC.Language">
<meta content="text/html" name="DC.Format">
<meta content="Testing med Selenium" property="og:title">
<meta content="Hvordan kombinere Selenium, mocha og chai." property="og:description">
<meta content="no" name="og:locale">
<meta content="article" property="og:type">
<meta content="https://epsil.github.io/2015/12/10/" property="og:url">
<meta content="Vegards blogg" property="og:site_name">
<meta content="https://epsil.github.io/2015/12/10/selenium.png" property="og:image">
<meta content="summary" name="twitter:card">
<meta content="@github" name="twitter:site">
<meta content="Testing med Selenium" name="twitter:title">
<meta content="Hvordan kombinere Selenium, mocha og chai." name="twitter:description">
<meta content="https://epsil.github.io/2015/12/10/selenium.png" name="twitter:image">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link href="selenium.png" rel="apple-touch-icon">
<link href="../../../css/markdown-template.css" rel="stylesheet">
<link href="https://epsil.github.io/2015/12/10/" rel="canonical">
<link href="index.txt" rel="alternate" title="Markdown" type="text/markdown">
<link href="custom.css" rel="stylesheet" type="text/css">
<script src="../../../js/markdown-template.js">
</script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
<div class="container-fluid">
<ul class="nav nav-pills navbar-left">
<li role="presentation"><a href="/" title="G&#229; hjem"><i class="fa fa-home"></i></a>
</li>
</ul>

<ul class="nav nav-pills navbar-right">
<li role="presentation"><a href="http://www.facebook.com/share.php?u=https%3A%2F%2Fepsil.github.io%2F2015%2F12%2F10%2F" target="_blank" title="Del p&#229; Facebook"><i class="fa fa-facebook-square"></i></a>
</li>

<li role="presentation"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fepsil.github.io%2F2015%2F12%2F10%2F" target="_blank" title="Del p&#229; Twitter"><i class="fa fa-twitter-square"></i></a>
</li>

<li role="presentation"><a href="https://github.com/epsil/epsil.github.io/edit/master/2015/12/10/index.txt" target="_blank" title="Rediger p&#229; GitHub"><i class="fa fa-edit"></i></a>
</li>

<li role="presentation"><a href="https://github.com/epsil/epsil.github.io/commits/master/2015/12/10/index.txt" target="_blank" title="Vis historie"><i class="fa fa-history"></i></a>
</li>

<li role="presentation"><a href="index.txt" title="Vis Markdown-kilde"><i class="fa fa-download"></i></a>
</li>

<li role="presentation"><a data-toggle="collapse" href="#toc" id="toc-button" name="toc-button" title="Innhold"><i class="fa fa-list"></i></a>
</li>
</ul>
</div>

<div class="collapse" id="toc">
<ul>
<li><a href="#selenium" title="Selenium">Selenium</a>
</li>

<li><a href="#selenium-webdriver" title="selenium-webdriver">selenium-webdriver</a>
</li>

<li><a href="#chromedriver" title="ChromeDriver">ChromeDriver</a>
</li>

<li><a href="#installasjon" title="Installasjon">Installasjon</a>
</li>

<li><a href="#filstruktur" title="Filstruktur">Filstruktur</a>
</li>

<li><a href="#testjs" title="test.js">test.js</a>
</li>

<li><a href="#testjs-del-2" title="test.js, del 2">test.js, del 2</a>
</li>

<li><a href="#testjs-del-3" title="test.js, del 3">test.js, del 3</a>
</li>

<li><a href="#linker" title="Linker">Linker</a>
</li>
</ul>
</div>
</nav>

<article class="h-entry">
<header><img alt="" src="steria.svg" width="150">
<h1 class="p-name"><a class="u-uid u-url" href="https://epsil.github.io/2015/12/10/" rel="bookmark" target="_blank" title="Permalink">Testing med Selenium</a>
</h1>

<p><a class="p-author h-card" href="https://epsil.github.io/" target="_blank" title="Open epsil.github.io in a new window">Vegard &#216;ye</a> <time class="dt-published" datetime="2015-12-10">2015-12-10</time></p>

<p class="p-summary">Hvordan kombinere Selenium, mocha og&#160;chai.</p>

<figure><img alt="" class="u-photo" src="selenium.png" width="100">
</figure>
</header>

<section class="e-content">
<section id="selenium">
<h2><a aria-hidden="true" class="header-anchor" href="#selenium" title="Selenium"></a>Selenium<a aria-controls="selenium-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#selenium-section" role="button"></a></h2>

<div class="collapse in" id="selenium-section">
<ul>
<li>Testrammeverk for webapplikasjoner</li>

<li>Skrevet i Java</li>

<li>Gj&#248;r det mulig &#229; lage makroer for en nettleser

<ul>
<li>&#197;pne en adresse</li>

<li>Finne et element</li>

<li>Klikke p&#229; elementet</li>

<li>&#8230;</li>
</ul></li>
</ul>
</div>
</section>

<section id="selenium-webdriver">
<h2><a aria-hidden="true" class="header-anchor" href="#selenium-webdriver" title="selenium-webdriver"></a>selenium-webdriver<a aria-controls="selenium-webdriver-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#selenium-webdriver-section" role="button"></a></h2>

<div class="collapse in" id="selenium-webdriver-section">
<ul>
<li>JavaScript-grensesnitt for Selenium</li>

<li>Kan kombineres med andre JavaScript-biblioteker:

<ul>
<li>mocha</li>

<li>chai, chai-as-promised</li>
</ul></li>

<li>Installeres med <abbr title="Node Package Manager">npm</abbr>:

<ul>
<li><code>npm install selenium-webdriver</code>
</li>
</ul></li>
</ul>
</div>
</section>

<section id="chromedriver">
<h2><a aria-hidden="true" class="header-anchor" href="#chromedriver" title="ChromeDriver"></a>ChromeDriver<a aria-controls="chromedriver-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#chromedriver-section" role="button"></a></h2>

<div class="collapse in" id="chromedriver-section">
<ul>
<li>Oppretter forbindelse til&#160;Chrome-instans</li>

<li>Kan installeres med <abbr title="Node Package Manager">npm</abbr> eller lastes ned separat:

<ul>
<li><a class="url" href="http://sites.google.com/a/chromium.org/chromedriver/" target="_blank" title="Open sites.google.com in a new window">http://sites.google.com/a/chromium.org/chromedriver/</a>
</li>

<li><code>ChromeDriver.exe</code> m&#229; ligge i <code>PATH</code></li>
</ul></li>
</ul>
</div>
</section>

<section id="installasjon">
<h2><a aria-hidden="true" class="header-anchor" href="#installasjon" title="Installasjon"></a>Installasjon<a aria-controls="installasjon-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#installasjon-section" role="button"></a></h2>

<div class="collapse in" id="installasjon-section">
<ol>
<li><abbr title="Node Package Manager">npm</abbr>
<ul>
<li><a class="url" href="http://nodejs.org/" target="_blank" title="Open nodejs.org in a new window">http://nodejs.org/</a>
</li>
</ul>
</li>

<li>ChromeDriver

<ul>
<li><a class="url" href="http://sites.google.com/a/chromium.org/chromedriver/" target="_blank" title="Open sites.google.com in a new window">http://sites.google.com/a/chromium.org/chromedriver/</a>
</li>
</ul></li>

<li>selenium-webdriver

<ul>
<li><code>npm install selenium-webdriver</code>
</li>
</ul></li>

<li>Mocha

<ul>
<li><code>npm install -g mocha</code>
</li>
</ul></li>

<li>Chai

<ul>
<li><code>npm install chai</code>
</li>

<li><code>npm install chai-as-promised</code>
</li>
</ul></li>
</ol>
</div>
</section>

<section id="filstruktur">
<h2><a aria-hidden="true" class="header-anchor" href="#filstruktur" title="Filstruktur"></a>Filstruktur<a aria-controls="filstruktur-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#filstruktur-section" role="button"></a></h2>

<div class="collapse in" id="filstruktur-section">
<pre>
<code>test/
|-- test.js
`-- node_modules/
    |-- selenium_webdriver/
    |-- chai/
    |-- chai-as-promised/
    `-- ...</code>
</pre>

<p>Kj&#248;res med:</p>

<pre>
<code>mocha test.js</code>
</pre>
</div>
</section>

<section id="testjs">
<h2><a aria-hidden="true" class="header-anchor" href="#testjs" title="test.js"></a><a class="url" href="test.js">test.js</a><a aria-controls="testjs-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#testjs-section" role="button"></a>
</h2>

<div class="collapse in" id="testjs-section">
<pre>
<code class="language-javascript"><span class="hljs-keyword">var</span> selenium = <span class="hljs-built_in">require</span>(<span class="hljs-string">'selenium-webdriver'</span>);
<span class="hljs-keyword">var</span> chai = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>);
chai.use(<span class="hljs-built_in">require</span>(<span class="hljs-string">'chai-as-promised'</span>));
<span class="hljs-keyword">var</span> expect = chai.expect;

before(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">60000</span>);
  <span class="hljs-keyword">this</span>.driver = <span class="hljs-keyword">new</span> selenium.Builder()
    .withCapabilities(selenium.Capabilities.chrome())
    .build();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.driver.getWindowHandle();
});

after(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.driver.quit();
});

describe(<span class="hljs-string">'Component'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// ...</span>
});</code>
</pre>
</div>
</section>

<section id="testjs-del-2">
<h2><a aria-hidden="true" class="header-anchor" href="#testjs-del-2" title="test.js, del 2"></a><a class="url" href="test.js">test.js</a>, del 2<a aria-controls="testjs-del-2-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#testjs-del-2-section" role="button"></a></h2>

<div class="collapse in" id="testjs-del-2-section">
<pre>
<code class="language-javascript">describe(<span class="hljs-string">'Component'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  beforeEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// ...</span>
  });

  afterEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// ...</span>
  });

  it(<span class="hljs-string">'should work as expected'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Selenium test code here</span>
  });
});</code>
</pre>

<p>Resultat:</p>

<ul>
<li>Component should work as expected:&#160;&#10004;</li>
</ul>
</div>
</section>

<section id="testjs-del-3">
<h2><a aria-hidden="true" class="header-anchor" href="#testjs-del-3" title="test.js, del 3"></a><a class="url" href="test.js">test.js</a>, del 3<a aria-controls="testjs-del-3-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#testjs-del-3-section" role="button"></a></h2>

<div class="collapse in" id="testjs-del-3-section">
<pre>
<code class="language-javascript">describe(<span class="hljs-string">'Search field'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">'should clear when selected'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.driver.get(<span class="hljs-string">'http://...'</span>);
    <span class="hljs-keyword">var</span> searchField = <span class="hljs-keyword">this</span>.driver.findElement({ css: <span class="hljs-string">'#searchField'</span> });
    searchField.click();
    <span class="hljs-keyword">return</span> expect(searchField.getText()).to.eventually.equal(<span class="hljs-string">''</span>);
  });
});</code>
</pre>

<p>Resultat:</p>

<ul>
<li>Search field should clear when selected:&#160;&#10004;</li>
</ul>
</div>
</section>

<section id="linker">
<h2><a aria-hidden="true" class="header-anchor" href="#linker" title="Linker"></a>Linker<a aria-controls="linker-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#linker-section" role="button"></a></h2>

<div class="collapse in" id="linker-section">
<ul>
<li><a class="url" href="test.js">test.js</a>
</li>

<li><a href="http://bites.goodeggs.com/posts/selenium-webdriver-nodejs-tutorial/" target="_blank" title="Open bites.goodeggs.com in a new window">Getting started with Selenium Webdriver for&#160;node.js</a>
</li>

<li><a href="http://simpleprogrammer.com/2014/02/03/selenium-with-node-js/" target="_blank" title="Open simpleprogrammer.com in a new window">Selenium With Node.js and&#160;Mocha</a>
</li>
</ul>
</div>
</section>
</section>
</article>
</body>
</html>
