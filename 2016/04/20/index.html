<!DOCTYPE html>
<html lang="en">
<head>
<title>Running Bash scripts on Windows &#8211; Vegard&#8217;s blog</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="Vegard &#216;ye" name="author">
<meta content="2016-04-20" name="date">
<meta content="How to run Bash scripts from Windows&#8217; command prompt and extend it with common Unix commands." name="description">
<meta content="5fbf6ec2c698fda6d021e97b7b5771f3" name="md5">
<meta content="text/css" http-equiv="Content-Style-Type">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="Running Bash scripts on Windows" name="DC.Title">
<meta content="Vegard &#216;ye" name="DC.Creator">
<meta content="2016-04-20" name="DC.Date">
<meta content="How to run Bash scripts from Windows&#8217; command prompt and extend it with common Unix commands." name="DC.Description">
<meta content="en" name="DC.Language">
<meta content="text/html" name="DC.Format">
<meta content="Running Bash scripts on Windows" property="og:title">
<meta content="How to run Bash scripts from Windows&#8217; command prompt and extend it with common Unix commands." property="og:description">
<meta content="en" name="og:locale">
<meta content="article" property="og:type">
<meta content="https://epsil.github.io/2016/04/20/" property="og:url">
<meta content="Vegard&#8217;s blog" property="og:site_name">
<meta content="summary" name="twitter:card">
<meta content="@github" name="twitter:site">
<meta content="Running Bash scripts on Windows" name="twitter:title">
<meta content="How to run Bash scripts from Windows&#8217; command prompt and extend it with common Unix commands." name="twitter:description">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link href="../../../css/markdown-template.css" rel="stylesheet">
<link href="https://epsil.github.io/2016/04/20/" rel="canonical">
<link href="index.txt" rel="alternate" title="Markdown" type="text/markdown">
<link href="custom.css" rel="stylesheet" type="text/css">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
TeX: { equationNumbers: { autoNumber: "all" } }
})
</script>
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
</script>
<script src="../../../js/markdown-template.js">
</script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
<div class="container-fluid">
<ul class="nav nav-pills navbar-left">
<li role="presentation"><a href="/" title="Go home"><i class="fa fa-home"></i></a>
</li>
</ul>

<ul class="nav nav-pills navbar-right">
<li role="presentation"><a href="http://www.facebook.com/share.php?u=https%3A%2F%2Fepsil.github.io%2F2016%2F04%2F20%2F" title="Share on Facebook"><i class="fa fa-facebook-square"></i></a>
</li>

<li role="presentation"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fepsil.github.io%2F2016%2F04%2F20%2F" title="Share on Twitter"><i class="fa fa-twitter-square"></i></a>
</li>

<li role="presentation"><a href="https://github.com/epsil/epsil.github.io/edit/master/2016/04/20/index.txt" title="Edit on GitHub"><i class="fa fa-edit"></i></a>
</li>

<li role="presentation"><a href="https://github.com/epsil/epsil.github.io/commits/master/2016/04/20/index.txt" title="View history"><i class="fa fa-history"></i></a>
</li>

<li role="presentation"><a href="index.txt" title="Get Markdown source"><i class="fa fa-download"></i></a>
</li>

<li role="presentation"><a data-toggle="collapse" href="#toc" title="Contents"><i class="fa fa-list"></i></a>
</li>
</ul>
</div>

<div class="collapse" id="toc">
<ul>
<li><span class="" id="git-for-windows-link"><a href="#git-for-windows">Git for Windows</a><a aria-controls="git-for-windows-link-section" aria-expanded="false" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#git-for-windows-link-section" role="button"></a></span>
<ul class="collapse" id="git-for-windows-link-section">
<li><a href="#update-pathext">Update <code>PATHEXT</code></a>
</li>
</ul>
</li>

<li><span class="" id="gnuwin32-link"><a href="#gnuwin32">G<em>nu</em>W<em>in</em>32</a><a aria-controls="gnuwin32-link-section" aria-expanded="false" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#gnuwin32-link-section" role="button"></a></span>
<ul class="collapse" id="gnuwin32-link-section">
<li><a href="#mingw"><abbr title="Minimalist GNU for Windows">MinGW</abbr></a>
</li>
</ul>
</li>

<li><a href="#alias-open">Alias <code>open</code></a>
</li>

<li><a href="#alias-find">Alias <code>find</code></a>
</li>

<li><span class="" id="alternatives-link"><a href="#alternatives">Alternatives</a><a aria-controls="alternatives-link-section" aria-expanded="false" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#alternatives-link-section" role="button"></a></span>
<ul class="collapse" id="alternatives-link-section">
<li><a href="#msys"><abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr></a>
</li>

<li><a href="#standalone-shells">Standalone shells</a>
</li>
</ul>
</li>
</ul>
</div>
</nav>

<article class="h-entry">
<header>
<h1 class="p-name"><a class="u-uid u-url" href="https://epsil.github.io/2016/04/20/" title="Permalink">Running Bash scripts on&#160;Windows</a>
</h1>

<p><a class="p-author h-card" href="https://epsil.github.io/">Vegard &#216;ye</a> <time class="dt-published" datetime="2016-04-20">2016-04-20</time></p>

<p class="p-summary">How to run Bash scripts from Windows&#8217; command prompt and extend it with common Unix&#160;commands.</p>
</header>

<section class="e-content"><!--
TO DO:

-   ~~Git Bash should be installed first.~~
    -   How does the override option affect `PATH`?
-   ~~MSYS may be superfluous.~~
    -   ~~If so, where to place `open.bat`?~~
-   Does Git Bash's MingGW differ from the default MinGW?
-   ~~On Windows 10, the `PATH` variable is not separated by `;`.~~
-   ~~Update PATHEXT~~
-   Update CSS so that header does not affect the width of the window.
    -   Requires refactoring the default stylesheet
-->

<section>
<p>The following setup allows us to run Bash scripts from Windows&#8217; command prompt. It also augments it with common Unix commands like <code>cp</code>, <code>rm</code> and <code>mv</code>, which is useful if these are ingrained into muscle&#160;memory.</p>

<p>Note that this setup affects the <em>command prompt</em> (<abbr class="acronym" title="Also Known As"><span class="caps">AKA</span></abbr> <code>cmd.exe</code>). Although Windows 10 includes a full-fledged <a href="http://www.howtogeek.com/249966/how-to-install-and-use-the-linux-bash-shell-on-windows-10/">Ubuntu Linux Bash Shell</a>, that shell &#8211; like PowerShell &#8211; is separate from the command prompt. Therefore, the following instructions still apply to Windows 10, as well as to earlier Windows versions. (For a list of standalone Bash shells for Windows, see the <a href="#standalone-shells" title="Standalone shells">discussion</a> at the&#160;end.)</p>
</section>

<section id="git-for-windows">
<h2><a aria-hidden="true" class="header-anchor" href="#git-for-windows" title="Git for Windows"></a><a href="https://git-scm.com/">Git for Windows</a><a aria-controls="git-for-windows-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#git-for-windows-section" role="button"></a>
</h2>

<div class="collapse in" id="git-for-windows-section">
<section>
<p>Install <a href="https://git-scm.com/">Git for Windows</a>. When asked whether to install additional Unix utilities, choose <em>Use Git and optional Unix tools from the Windows Command Prompt</em>:</p>

<figure><img alt="" src="git.png">
</figure>

<p>(The lighter <em>Use Git from the Windows Command Prompt</em> option can also be chosen, but then one must <a href="#msys" title="MSYS">install <abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr> manually</a>.)</p>

<p>We can now open a command prompt window and run a Bash script as&#160;follows:</p>

<pre>
<code>sh script.sh</code>
</pre>

<p>If the script accepts parameters, we just provide them at the&#160;end:</p>

<pre>
<code>sh script.sh --param1 val1 --param2 val2</code>
</pre>

<p>Git for Windows also extends the command prompt with common Unix commands like <code>cp</code>, <code>rm</code> and <code>mv</code>:</p>

<pre>
<code>cp script.sh script2.sh
rm script.sh
mv script2.sh script.sh</code>
</pre>

<p><span class="dquo">&#8220;</span>Git Bash&#8221;, a <a href="#standalone-shells" title="Standalone shells">standalone shell</a>, is installed as well. It provides additional amenities like aliases and searchable command&#160;history.</p>
</section>

<section id="update-pathext">
<h3><a aria-hidden="true" class="header-anchor" href="#update-pathext" title="Update PATHEXT"></a>Update <code>PATHEXT</code><a aria-controls="update-pathext-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#update-pathext-section" role="button"></a></h3>

<div class="collapse in" id="update-pathext-section">
<p>With further refinements, we can trim the initial &#8220;<code>sh</code>&#8221; from the script invocation. First, associate <code>.sh</code> files with <code>sh.exe</code>. To do this, create a blank <code>script.sh</code> file (with Notepad, for example) and right-click on it. Choose <em>Open with</em> from the context menu. Click <em>More apps</em> and navigate to <code>C:\Program Files\Git\bin\sh.exe</code>. Enable <em>Always use this app to open .sh files</em> and click <em><abbr class="acronym" title="okay"><span class="caps">OK</span></abbr></em>.</p>

<p>Next, update the value of the <code>PATHEXT</code> environmental variable. To access the variable, go to <em>Control Panel</em> &#8594; <em>System</em> &#8594; <em>Advanced</em> &#8594; <em>Environment Variables</em>. The value is a list of file extensions separated by <code>;</code>, for example:</p>

<pre>
<code>.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC</code>
</pre>

<p>Add <code>;.SH</code> to the&#160;end:</p>

<pre>
<code>.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.SH</code>
</pre>

<p>We can now run <code>.sh</code> files <em>directly</em> from the command prompt, like&#160;so:</p>

<pre>
<code>script.sh --param1 val1 --param2 val2</code>
</pre>

<p>Note that the <code>.sh</code> extension is required to identify the file as a Bash script. Windows does <em>not</em> parse the <code>#!/bin/sh</code> shebang line; to execute an extensionless script, use <code>sh</code> (<abbr title="exempli gratia">e.g.</abbr>, <code>sh script</code>).</p>
</div>
</section>
</div>
</section>

<section id="gnuwin32">
<h2><a aria-hidden="true" class="header-anchor" href="#gnuwin32" title="GnuWin32"></a><a href="http://gnuwin32.sourceforge.net/">G<em>nu</em>W<em>in</em>32</a><a aria-controls="gnuwin32-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#gnuwin32-section" role="button"></a>
</h2>

<div class="collapse in" id="gnuwin32-section">
<section>
<p>For even more Unix utilities, install <a href="http://gnuwin32.sourceforge.net/">G<em>nu</em>W<em>in</em>32</a>. Ensure that its utilities are globally available by <em>appending</em> the location of G<em>nu</em>W<em>in</em>32&#8217;s executables (its <code>bin/</code> directory) to the <code>PATH</code> environment variable. The value is a list of file paths separated by <code>;</code>, for example:</p>

<pre>
<code>%SystemRoot%\system32;%SystemRoot%;C:\Ruby22\bin</code>
</pre>

<p>Thus, if G<em>nu</em>W<em>in</em>32&#8217;s executables are located in <code>C:\GnuWin32\bin</code>, simply add <code>;C:\GnuWin32\bin</code> to the&#160;end:</p>

<pre>
<code>%SystemRoot%\system32;%SystemRoot%;C:\Ruby22\bin;C:\GnuWin32\bin</code>
</pre>

<p>On Windows 10, the variable may be displayed as an editable list of directories. Add the directory to the bottom of the&#160;list.</p>

<p>We now have a host of tools at our command. For example, <code>wget</code> downloads a file via the command prompt, while <code>md5sum</code> calculates its <abbr class="acronym" title="Message-Digest algorithm 5"><span class="caps">MD5</span></abbr> hash. Explore G<em>nu</em>W<em>in</em>32&#8217;s <a href="http://gnuwin32.sourceforge.net/packages.html">package list</a> to get a sense of the&#160;possibilities.</p>
</section>

<section id="mingw">
<h3><a aria-hidden="true" class="header-anchor" href="#mingw" title="MinGW"></a><a href="http://www.mingw.org/"><abbr title="Minimalist GNU for Windows">MinGW</abbr></a><a aria-controls="mingw-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#mingw-section" role="button"></a>
</h3>

<div class="collapse in" id="mingw-section">
<p>For additional developer tools, augment the above setup with a complete installation of <a href="http://www.mingw.org/"><abbr title="Minimalist GNU for Windows">MinGW</abbr></a>. Append its directory to <code>PATH</code> <em>after</em> the other&#160;directories.</p>

<p>We can now link (<code>ld</code>) and compile C programs (<code>gcc</code>) and C++ programs (<code>g++</code>).</p>
</div>
</section>
</div>
</section>

<section id="alias-open">
<h2><a aria-hidden="true" class="header-anchor" href="#alias-open" title="Alias open"></a>Alias <code>open</code><a aria-controls="alias-open-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#alias-open-section" role="button"></a></h2>

<div class="collapse in" id="alias-open-section">
<p>Windows does not have the <code>open</code> command, and none of the packages above provide it. To alias <code>open</code> to Windows&#8217; <code>start</code> command, navigate to <abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr>&#8217; <code>bin/</code> directory (<code>C:\Program Files\Git\usr\bin</code> or <code>C:\msys\1.0\bin</code>) and create an <code>open.bat</code> file containing the&#160;following:</p>

<pre>
<code>@echo off
start %*</code>
</pre>
</div>
</section>

<section id="alias-find">
<h2><a aria-hidden="true" class="header-anchor" href="#alias-find" title="Alias find"></a>Alias <code>find</code><a aria-controls="alias-find-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#alias-find-section" role="button"></a></h2>

<div class="collapse in" id="alias-find-section">
<p>Windows&#8217; own <code>find</code> utility shadows the Unix <code>find</code> command. To create an alias for the latter, make a copy of <code>find.exe</code>, <code>find2.exe</code>, in the same folder (typically <code>C:\Program Files\Git\usr\bin</code>). The Unix command can now be accessed as <code>find2</code>.</p>
</div>
</section>

<section id="alternatives">
<h2><a aria-hidden="true" class="header-anchor" href="#alternatives" title="Alternatives"></a>Alternatives<a aria-controls="alternatives-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#alternatives-section" role="button"></a></h2>

<div class="collapse in" id="alternatives-section">
<section id="msys">
<h3><a aria-hidden="true" class="header-anchor" href="#msys" title="MSYS"></a><a href="http://www.mingw.org/wiki/msys"><abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr></a><a aria-controls="msys-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#msys-section" role="button"></a>
</h3>

<div class="collapse in" id="msys-section">
<p>The above instructions assume that <abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr> is installed along with <a href="#git-for-windows" title="Git for Windows">Git for Windows</a>. However, it is also possible to install <abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr> manually. If this applies, then run the <a href="http://www.mingw.org/wiki/msys"><abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr></a> installer and append <abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr>&#8217; <code>bin/</code> directory to <code>PATH</code> <em>after</em> the other&#160;directories.</p>
</div>
</section>

<section id="standalone-shells">
<h3><a aria-hidden="true" class="header-anchor" href="#standalone-shells" title="Standalone shells"></a>Standalone shells<a aria-controls="standalone-shells-section" aria-expanded="true" aria-hidden="true" class="collapse-button" data-toggle="collapse" href="#standalone-shells-section" role="button"></a></h3>

<div class="collapse in" id="standalone-shells-section">
<p>Windows 10 includes its own <a href="http://www.howtogeek.com/249966/how-to-install-and-use-the-linux-bash-shell-on-windows-10/">Linux Bash Shell</a>, based on Ubuntu. Note that this is a <em>standalone</em> shell, similar to PowerShell; Windows 10&#8217;s command prompt is unaffected and will still benefit from the instructions above. However, a standalone shell may provide built-in functionality that cannot be added to the command prompt (searchable history, for&#160;example).</p>

<p>Furthermore, be aware that tools added to the command prompt are also available in PowerShell and the Linux Bash Shell (unless shadowed by a different implementation). For example, after following the instructions above, G<em>nu</em>W<em>in</em>32&#8217;s <code>md5sum</code> command can be invoked not only from the command prompt, but from PowerShell and the Linux Bash Shell as&#160;well.</p>

<p>Another comprehensive standalone shell is provided by the <a href="http://www.cygwin.com/">Cygwin</a> project, which can be used on older Windows versions. <a href="#msys" title="MSYS"><abbr class="acronym" title="Minimal System"><span class="caps">MSYS</span></abbr></a> and <a href="#mingw" title="MinGW"><abbr title="Minimalist GNU for Windows">MinGW</abbr></a> also provide standalone shells. &#8220;Git Bash&#8221;, the shell provided by <a href="#git-for-windows" title="Git for Windows">Git for Windows</a>, is in fact an extension of&#160;these.</p>
</div>
</section>
</div>
</section>
</section>
</article>
</body>
</html>
